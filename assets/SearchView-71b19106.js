import{d,u as S,w as x,r as m,c as q,o as a,a as n,b as l,e as o,F as C,f as R,T as k,M as V,_ as B,g as r,t as N,i as f,j as y,S as g,n as T,h as L}from"./index-f8626f08.js";const F=d({__name:"SearchComp",props:{query:{}},async setup(u){let e,c;const i=u,s=S();s.searchResults=[],s.searchResults.push(...([e,c]=x(()=>s.getResults(i.query,1)),e=await e,c(),e));const p=m(null),h=m(1);window.onscroll=async()=>{if(window.scrollY>150?s.showNavbar=!1:s.showNavbar=!0,p.value.getBoundingClientRect().bottom<window.innerHeight){h.value++;const t=await s.getResults(i.query,h.value);t.length&&s.searchResults.push(...t)}};const w=q(()=>s.searchResults.sort((_,t)=>t.popularity-_.popularity));return(_,t)=>(a(),n("div",{class:"row row-cols-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5",ref_key:"searchCards",ref:p},[l(k,{name:"card",appear:""},{default:o(()=>[(a(!0),n(C,null,R(w.value,(v,b)=>(a(),n("div",{class:"col mb-3",key:b},[l(V,{card:v},null,8,["card"])]))),128))]),_:1})],512))}});const M=B(F,[["__scopeId","data-v-bf82a0c1"]]),$={class:"bg-black text-light py-5",style:{"margin-top":"90px"}},j={class:"container-xl"},A={class:"row gy-3 align-items-center mb-5"},D={class:"col"},E={class:"mb-0"},G=d({__name:"SearchPage",props:{query:{}},setup(u){return(e,c)=>(a(),n("main",$,[r("div",j,[r("div",A,[r("div",D,[r("h3",E,'Search results of "'+N(e.query.replace(/%20/g," "))+'"',1)])]),(a(),f(g,null,{fallback:o(()=>[y(" Loading... ")]),default:o(()=>[l(M,{query:e.query},null,8,["query"])]),_:1}))])]))}}),I=d({__name:"SearchView",setup(u){const e=T();return(c,i)=>(a(),f(g,null,{fallback:o(()=>[y(" Loading... ")]),default:o(()=>[r("div",null,[l(G,{query:L(e).params.id},null,8,["query"])])]),_:1}))}});export{I as default};
