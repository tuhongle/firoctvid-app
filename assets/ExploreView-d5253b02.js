import{d as b,u as S,w as V,r as C,c as T,o as n,a as i,b as v,e as y,F as g,f as w,T as R,M as A,_ as L,g as e,t as m,h as d,i as G,S as B,j as x,k as N,l as D,v as P,m as $,A as F,n as U}from"./index-2212144c.js";const j=b({__name:"ExploreComp",props:{type:{}},async setup(f){let o,p;const c=f,a=S(),l=async r=>{c.type==="Movies"?await a.getExplore("movie",r):await a.getExplore("tv",r)};a.explores=[],[o,p]=V(()=>l(1)),await o,p();const _=C(null),h=C(1);window.onscroll=async()=>{window.scrollY>150?a.showNavbar=!1:a.showNavbar=!0,_.value.getBoundingClientRect().bottom<window.innerHeight&&(h.value++,await l(h.value))};const E=T(()=>{const r=a.selectGenres.length?a.explores.filter(t=>t.genre_ids.map(u=>{var k;return(k=a.genres.find(M=>M.id===u))==null?void 0:k.name}).some(u=>a.selectGenres.indexOf(u)>=0)):a.explores;switch(a.selectSortBy){case"Popularity Ascending":return r.sort((t,s)=>t.popularity-s.popularity);case"Popularity Descending":return r.sort((t,s)=>s.popularity-t.popularity);case"Rating Ascending":return r.sort((t,s)=>t.vote_average-s.vote_average);case"Rating Descending":return r.sort((t,s)=>s.vote_average-t.vote_average);case"Release Date Ascending":return c.type==="Movies"?r.sort((t,s)=>new Date(t.release_date).getTime()-new Date(s.release_date).getTime()):r.sort((t,s)=>new Date(t.first_air_date).getTime()-new Date(s.first_air_date).getTime());case"Release Date Descending":return c.type==="Movies"?r.sort((t,s)=>new Date(s.release_date).getTime()-new Date(t.release_date).getTime()):r.sort((t,s)=>new Date(s.first_air_date).getTime()-new Date(t.first_air_date).getTime());case"Title (A-Z)":return c.type==="Movies"?r.sort((t,s)=>t.original_title.toLowerCase()<s.original_title.toLowerCase()?-1:1):r.sort((t,s)=>t.original_name.toLowerCase()<s.original_name.toLowerCase()?-1:1);default:return r}});return(r,t)=>(n(),i("div",{class:"row row-cols-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5",ref_key:"exploreCards",ref:_},[v(R,{name:"card",appear:""},{default:y(()=>[(n(!0),i(g,null,w(E.value,(s,u)=>(n(),i("div",{class:"col mb-3",key:u},[v(A,{card:s},null,8,["card"])]))),128))]),_:1})],512))}});const z=L(j,[["__scopeId","data-v-9bba11fb"]]),H={class:"bg-black text-light py-5",style:{"margin-top":"90px"}},I={class:"container-xl"},O={class:"row gy-3 align-items-center mb-5"},Y={class:"col-12 col-md-4"},Z={class:"mb-0"},q={class:"col-12 col-md-8 sorted"},J={class:"row gap-2 me-1"},K={class:"col position-relative px-0"},Q={"data-bs-toggle":"dropdown",class:"rounded-5 bg-blue d-flex align-items-center ps-2 pe-3 py-2"},W={key:0,class:"px-3"},X={key:1,class:"d-flex align-items-center flex-wrap"},ee=["onClick"],te=e("i",{class:"bi bi-x ms-1"},null,-1),se=[te],oe=e("span",{class:"ms-auto fs-5 fw-lighter"},"|",-1),ne=e("i",{class:"bi bi-chevron-down d-inline-block ms-2"},null,-1),ae={class:"dropdown-menu start-0 w-100"},le={class:"dropdown-item fw-light"},re=["value"],ie={class:"col position-relative px-0"},ce={"data-bs-toggle":"dropdown",class:"rounded-5 bg-blue d-flex align-items-center ps-2 pe-3 py-2"},de={class:"px-3"},_e={key:0},pe={key:1},ue=e("span",{class:"ms-auto fs-5 fw-lighter"},"|",-1),me=e("i",{class:"bi bi-chevron-down d-inline-block ms-2"},null,-1),ge={class:"dropdown-menu start-0 w-100"},we={class:"dropdown-item fw-light"},ve=["value"],he={class:"row row-cols-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5"},ye=b({__name:"ExplorePage",props:{type:{}},setup(f){const o=S();o.selectGenres=[],o.selectSortBy="";const p=T(()=>o.genres.filter(c=>!o.selectGenres.includes(c.name)).map(c=>c.name));return(c,a)=>(n(),i("main",H,[e("div",I,[e("div",O,[e("div",Y,[e("h3",Z,"Explore "+m(c.type),1)]),e("div",q,[e("div",J,[e("div",K,[e("label",Q,[d(o).selectGenres.length?(n(),i("div",X,[(n(!0),i(g,null,w(d(o).selectGenres,l=>(n(),i("span",{class:"bg-dark rounded-pill ps-3 pe-2 py-1 me-1 my-1 text-nowrap d-flex align-items-center",key:l,style:{"font-size":"0.6rem"}},[x(m(l)+" ",1),e("button",{class:"btn border-0 shadow-none p-0 text-bg-dark",onClick:N(_=>d(o).selectGenres=d(o).selectGenres.filter(h=>h!==l),["stop"])},se,8,ee)]))),128))])):(n(),i("span",W,"Select Genres")),oe,ne]),e("ul",ae,[(n(!0),i(g,null,w(p.value,l=>(n(),i("li",{key:l},[e("label",le,[D(e("input",{type:"checkbox",value:l,"onUpdate:modelValue":a[0]||(a[0]=_=>d(o).selectGenres=_),class:"d-none"},null,8,re),[[P,d(o).selectGenres]]),x(" "+m(l),1)])]))),128))])]),e("div",ie,[e("label",ce,[e("div",de,[d(o).selectSortBy?(n(),i("span",pe,m(d(o).selectSortBy),1)):(n(),i("span",_e,"Sort By"))]),ue,me]),e("ul",ge,[(n(!0),i(g,null,w(d(o).sortBy,l=>(n(),i("li",{key:l},[e("label",we,[D(e("input",{type:"radio",value:l,"onUpdate:modelValue":a[1]||(a[1]=_=>d(o).selectSortBy=_),class:"d-none"},null,8,ve),[[$,d(o).selectSortBy]]),x(" "+m(l),1)])]))),128))])])])])]),(n(),G(B,null,{fallback:y(()=>[e("div",he,[(n(),i(g,null,w(10,l=>e("div",{class:"col mb-3",key:l,style:{"min-height":"250px !important"}},[v(F)])),64))])]),default:y(()=>[v(z,{type:c.type},null,8,["type"])]),_:1}))])]))}}),xe=b({__name:"ExploreView",setup(f){const o=U();return(p,c)=>(n(),G(B,null,{default:y(()=>[v(ye,{type:d(o).params.type==="movie"?"Movies":"TV Shows"},null,8,["type"])]),_:1}))}});export{xe as default};
