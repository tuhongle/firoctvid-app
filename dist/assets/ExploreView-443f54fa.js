import{d as b,u as S,w as V,r as C,c as T,o as l,a as i,b as y,e as w,F as f,f as h,T as R,M as L,_ as A,g as e,t as m,h as d,i as G,j as g,S as B,k as N,l as D,v as P,m as $,n as F}from"./index-7520ad4a.js";const U=b({__name:"ExploreComp",props:{type:{}},async setup(x){let o,p;const c=x,n=S(),r=async a=>{c.type==="Movies"?await n.getExplore("movie",a):await n.getExplore("tv",a)};n.explores=[],[o,p]=V(()=>r(1)),await o,p();const _=C(null),v=C(1);window.onscroll=async()=>{window.scrollY>150?n.showNavbar=!1:n.showNavbar=!0,_.value.getBoundingClientRect().bottom<window.innerHeight&&(v.value++,await r(v.value))};const E=T(()=>{const a=n.selectGenres.length?n.explores.filter(t=>t.genre_ids.map(u=>{var k;return(k=n.genres.find(M=>M.id===u))==null?void 0:k.name}).some(u=>n.selectGenres.indexOf(u)>=0)):n.explores;switch(n.selectSortBy){case"Popularity Ascending":return a.sort((t,s)=>t.popularity-s.popularity);case"Popularity Descending":return a.sort((t,s)=>s.popularity-t.popularity);case"Rating Ascending":return a.sort((t,s)=>t.vote_average-s.vote_average);case"Rating Descending":return a.sort((t,s)=>s.vote_average-t.vote_average);case"Release Date Ascending":return c.type==="Movies"?a.sort((t,s)=>new Date(t.release_date).getTime()-new Date(s.release_date).getTime()):a.sort((t,s)=>new Date(t.first_air_date).getTime()-new Date(s.first_air_date).getTime());case"Release Date Descending":return c.type==="Movies"?a.sort((t,s)=>new Date(s.release_date).getTime()-new Date(t.release_date).getTime()):a.sort((t,s)=>new Date(s.first_air_date).getTime()-new Date(t.first_air_date).getTime());case"Title (A-Z)":return c.type==="Movies"?a.sort((t,s)=>t.original_title.toLowerCase()<s.original_title.toLowerCase()?-1:1):a.sort((t,s)=>t.original_name.toLowerCase()<s.original_name.toLowerCase()?-1:1);default:return a}});return(a,t)=>(l(),i("div",{class:"row row-cols-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5",ref_key:"exploreCards",ref:_},[y(R,{name:"card",appear:""},{default:w(()=>[(l(!0),i(f,null,h(E.value,(s,u)=>(l(),i("div",{class:"col mb-3",key:u},[y(L,{card:s},null,8,["card"])]))),128))]),_:1})],512))}});const j=A(U,[["__scopeId","data-v-0f5f782c"]]),z={class:"bg-black text-light py-5",style:{"margin-top":"90px"}},H={class:"container-xl"},I={class:"row gy-3 align-items-center mb-5"},O={class:"col-12 col-md-4"},Y={class:"mb-0"},Z={class:"col-12 col-md-8 sorted"},q={class:"row gap-2 me-1"},J={class:"col position-relative px-0"},K={"data-bs-toggle":"dropdown",class:"rounded-5 bg-blue d-flex align-items-center ps-2 pe-3 py-2"},Q={key:0,class:"px-3"},W={key:1,class:"d-flex align-items-center flex-wrap"},X=["onClick"],ee=e("i",{class:"bi bi-x ms-1"},null,-1),te=[ee],se=e("span",{class:"ms-auto fs-5 fw-lighter"},"|",-1),oe=e("i",{class:"bi bi-chevron-down d-inline-block ms-2"},null,-1),ne={class:"dropdown-menu start-0 w-100"},ae={class:"dropdown-item fw-light"},le=["value"],re={class:"col position-relative px-0"},ie={"data-bs-toggle":"dropdown",class:"rounded-5 bg-blue d-flex align-items-center ps-2 pe-3 py-2"},ce={class:"px-3"},de={key:0},_e={key:1},pe=e("span",{class:"ms-auto fs-5 fw-lighter"},"|",-1),ue=e("i",{class:"bi bi-chevron-down d-inline-block ms-2"},null,-1),me={class:"dropdown-menu start-0 w-100"},ge={class:"dropdown-item fw-light"},we=["value"],ve=b({__name:"ExplorePage",props:{type:{}},setup(x){const o=S();o.selectGenres=[],o.selectSortBy="";const p=T(()=>o.genres.filter(c=>!o.selectGenres.includes(c.name)).map(c=>c.name));return(c,n)=>(l(),i("main",z,[e("div",H,[e("div",I,[e("div",O,[e("h3",Y,"Explore "+m(c.type),1)]),e("div",Z,[e("div",q,[e("div",J,[e("label",K,[d(o).selectGenres.length?(l(),i("div",W,[(l(!0),i(f,null,h(d(o).selectGenres,r=>(l(),i("span",{class:"bg-dark rounded-pill ps-3 pe-2 py-1 me-1 my-1 text-nowrap d-flex align-items-center",key:r,style:{"font-size":"0.6rem"}},[g(m(r)+" ",1),e("button",{class:"btn border-0 shadow-none p-0 text-bg-dark",onClick:N(_=>d(o).selectGenres=d(o).selectGenres.filter(v=>v!==r),["stop"])},te,8,X)]))),128))])):(l(),i("span",Q,"Select Genres")),se,oe]),e("ul",ne,[(l(!0),i(f,null,h(p.value,r=>(l(),i("li",{key:r},[e("label",ae,[D(e("input",{type:"checkbox",value:r,"onUpdate:modelValue":n[0]||(n[0]=_=>d(o).selectGenres=_),class:"d-none"},null,8,le),[[P,d(o).selectGenres]]),g(" "+m(r),1)])]))),128))])]),e("div",re,[e("label",ie,[e("div",ce,[d(o).selectSortBy?(l(),i("span",_e,m(d(o).selectSortBy),1)):(l(),i("span",de,"Sort By"))]),pe,ue]),e("ul",me,[(l(!0),i(f,null,h(d(o).sortBy,r=>(l(),i("li",{key:r},[e("label",ge,[D(e("input",{type:"radio",value:r,"onUpdate:modelValue":n[1]||(n[1]=_=>d(o).selectSortBy=_),class:"d-none"},null,8,we),[[$,d(o).selectSortBy]]),g(" "+m(r),1)])]))),128))])])])])]),(l(),G(B,null,{fallback:w(()=>[g(" Loading... ")]),default:w(()=>[y(j,{type:c.type},null,8,["type"])]),_:1}))])]))}}),he=b({__name:"ExploreView",setup(x){const o=F();return(p,c)=>(l(),G(B,null,{fallback:w(()=>[g(" Loading... ")]),default:w(()=>[e("div",null,[y(ve,{type:d(o).params.type==="movie"?"Movies":"TV Shows"},null,8,["type"])])]),_:1}))}});export{he as default};
